<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="css/base.css"/>
  <link rel="stylesheet" href="css/admin.css"/>
</head>
<body>
  <header class="header">
    <div class="brand"><div class="brand__logo"></div><div class="brand__name">Clinic Manager</div></div>
    <div class="searchbar">
      <svg class="searchbar__icon" viewBox="0 0 24 24" fill="currentColor"><path d="M21 21l-4.3-4.3"/></svg>
      <input id="globalSearch" class="input" placeholder="Search (patients, staff, depts)"/>
    </div>
    <div id="userInfo" class="muted"></div>
    <button id="logoutBtn" class="btn btn--outline">Logout</button>
  </header>

  <div class="container">
    <div class="grid">
      <div class="card">
        <h3 style="margin-top:0">Departments (Doctors only)</h3>
        <form id="deptForm" class="form mt-3">
          <label class="label">Department Name</label>
          <input id="d_name" class="input" placeholder="e.g., Cardiology" required/>
          <button class="btn mt-3" type="submit">Save Department</button>
        </form>
        <div class="table-wrap mt-4">
          <table id="deptTable" class="table table--compact">
            <thead><tr><th>Name</th><th>Actions</th></tr></thead><tbody></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Staff (with login)</h3>
        <form id="staffForm" class="form mt-3">
          <label class="label">Staff ID</label><input id="s_id" class="input" placeholder="e.g., D001" required/>
          <label class="label">Name</label><input id="s_name" class="input" placeholder="Full name" required/>
          <label class="label">Role</label>
          <select id="s_role" class="select" required>
            <option value="">Select role</option>
            <option value="doctor">Doctor</option>
            <option value="receptionist">Receptionist</option>
            <option value="labtechnician">Lab Technician</option>
            <option value="pharmacist">Pharmacist</option>
          </select>
          <div id="deptWrap" class="mt-2">
            <label class="label">Department (for Doctors)</label>
            <select id="s_dept" class="select"></select>
          </div>
          <label class="label">Username</label><input id="s_username" class="input" placeholder="login username" required/>
          <label class="label">Password</label><input id="s_password" class="input" type="password" placeholder="login password" required/>
          <button class="btn mt-3" type="submit">Save Staff</button>
        </form>

        <div class="table-wrap mt-4">
          <table id="staffTable" class="table table--compact">
            <thead><tr><th>ID</th><th>Name</th><th>Role</th><th>Department</th><th>Username</th><th>Actions</th></tr></thead><tbody></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Pricing & Catalogs</h3>
        <form id="settingsForm" class="form mt-3">
          <label class="label">Doctor Fee (per visit)</label>
          <input id="set_doctorFee" class="input" type="number" min="0" step="0.01" placeholder="e.g., 300" required/>
          <button class="btn mt-3" type="submit">Save Settings</button>
        </form>

        <h4 class="mt-4">Medicine Catalog</h4>
        <form id="medForm" class="form mt-2">
          <label class="label">Medicine Name</label><input id="med_name" class="input" placeholder="Paracetamol 500mg" required/>
          <label class="label">Price</label><input id="med_price" class="input" type="number" min="0" step="0.01" required/>
          <button class="btn mt-3" type="submit">Add / Update Medicine</button>
        </form>
        <div class="table-wrap mt-3">
          <table id="medTable" class="table table--compact">
            <thead><tr><th>Medicine</th><th>Price</th><th>Actions</th></tr></thead><tbody></tbody>
          </table>
        </div>

        <h4 class="mt-4">Lab Tests Catalog</h4>
        <form id="labTestForm" class="form mt-2">
          <label class="label">Test Name</label><input id="lt_name" class="input" required/>
          <label class="label">Price</label><input id="lt_price" class="input" type="number" min="0" step="0.01" required/>
          <button class="btn mt-3" type="submit">Add / Update Test</button>
        </form>
        <div class="table-wrap mt-3">
          <table id="labTestTable" class="table table--compact">
            <thead><tr><th>Test</th><th>Price</th><th>Actions</th></tr></thead><tbody></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Reports</h3>
        <div class="grid">
          <div class="card"><div class="muted">Total Patients</div><div id="statPatients" style="font-size:28px; font-weight:700">0</div></div>
          <div class="card"><div class="muted">Total Appointments</div><div id="statAppts" style="font-size:28px; font-weight:700">0</div></div>
          <div class="card"><div class="muted">Pending Lab Reqs</div><div id="statLab" style="font-size:28px; font-weight:700">0</div></div>
          <div class="card"><div class="muted">Pending Prescriptions</div><div id="statRx" style="font-size:28px; font-weight:700">0</div></div>
        </div>
      </div>
    </div>
  </div>

  <script src="js/common.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
